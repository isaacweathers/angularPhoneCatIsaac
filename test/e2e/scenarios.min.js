"use strict";describe("PhoneCat App",function(){it("should redirect index.html to index.html#/phones",function(){browser.get("app/index.html");browser.getLocationAbsUrl().then(function(a){expect(a.split("#")[1]).toBe("/phones")})});describe("Phone list view",function(){beforeEach(function(){browser.get("app/index.html#/phones")});it("should filter the phone list as a user types into the search box",function(){var b=element.all(by.repeater("phone in phones"));var a=element(by.model("query"));expect(b.count()).toBe(20);a.sendKeys("nexus");expect(b.count()).toBe(1);a.clear();a.sendKeys("motorola");expect(b.count()).toBe(8)});it("should be possible to control phone order via the drop down select box",function(){var c=element.all(by.repeater("phone in phones").column("phone.name"));var b=element(by.model("query"));function a(){return c.map(function(d){return d.getText()})}b.sendKeys("tablet");expect(a()).toEqual(["Motorola XOOM\u2122 with Wi-Fi","MOTOROLA XOOM\u2122"]);element(by.model("orderProp")).element(by.css('option[value="name"]')).click();expect(a()).toEqual(["MOTOROLA XOOM\u2122","Motorola XOOM\u2122 with Wi-Fi"])});it("should render phone specific links",function(){var a=element(by.model("query"));a.sendKeys("nexus");element.all(by.css(".phones li a")).first().click();browser.getLocationAbsUrl().then(function(b){expect(b.split("#")[1]).toBe("/phones/nexus-s")})})});describe("Phone detail view",function(){beforeEach(function(){browser.get("app/index.html#/phones/nexus-s")});it("should display nexus-s page",function(){expect(element(by.binding("phone.name")).getText()).toBe("Nexus S")});it("should display the first phone image as the main phone image",function(){expect(element(by.css("img.phone.active")).getAttribute("src")).toMatch(/img\/phones\/nexus-s.0.jpg/)});it("should swap main image if a thumbnail image is clicked on",function(){element(by.css(".phone-thumbs li:nth-child(3) img")).click();expect(element(by.css("img.phone.active")).getAttribute("src")).toMatch(/img\/phones\/nexus-s.2.jpg/);element(by.css(".phone-thumbs li:nth-child(1) img")).click();expect(element(by.css("img.phone.active")).getAttribute("src")).toMatch(/img\/phones\/nexus-s.0.jpg/)})})});